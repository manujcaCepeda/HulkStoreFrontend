<div class="container">
  <div class="{{alertStyle}}" role="alert" *ngIf="ingresoStatus.codigo != ''">{{ingresoStatus.mensaje}}</div>

  <div style="margin-top: 30px">
    <h3>Gesti√≥n de Ingresos - Hulk Store</h3>
    <hr/>

    <div class="row">
      <div class="col-md-5">
        <form class="form-horizontal" #loginForm="ngForm" novalidate>

          <div class="form-group">
            <label for="producto" class="col-sm-2 control-label">Producto</label>
            <div class="col-sm-11">
              <select id="select" name="periodicidad" class="form-control" [(ngModel)]="producto" (change)="onChange(producto)">
                <option value="Seleccione Producto" style="color:#008752 !important" disabled selected>Seleccione Producto</option>
                <option *ngFor="let producto of productos" [(value)]="producto.id">{{producto.categoria}} - {{producto.descripcion}}</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-md-6">
              <label for="precio" class="col-sm-2 control-label">Precio</label>
              <div class="col-sm-10">
                <input type="number" class="form-control" id="precio" placeholder="Precio" disabled [(ngModel)]="model.precio" name="precio"
                  #precio="ngModel">
              </div>
            </div>
            <div class="form-group col-md-6">
              <label for="cantidad" class="col-sm-2 control-label">Cantidad</label>
              <div class="col-sm-10">
                <input type="number" class="form-control" id="cantidad" placeholder="Cantidad" required [(ngModel)]="model.cantidad" name="cantidad"
                  #cantidad="ngModel" (change)="onChangeCantidad()">
                <div [hidden]="cantidad.valid || cantidad.pristine" class="alert alert-danger">
                  Cantidad es requerido!
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="total" class="col-sm-2 control-label">Total</label>
            <div class="col-sm-11">
              <input type="text" class="form-control" id="total" placeholder="Total" disabled [(ngModel)]="model.total" name="total"
                #total="ngModel">
            </div>
          </div>

          <div class="row mx-1">
            <div class="col-sm-8">
              <button type="submit" class="btn btn-success"  (click)="guardarIngreso()"  [disabled]="!loginForm.form.valid">Guardar</button>
            </div>

            <div class=" col-sm-3">
              <button class="btn btn-default" (click)="cancelar()">Cancelar</button>
            </div>
          </div>
        </form>
      </div>
      <div class="col-md-7">Ingresados Realizados
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Fecha</th>
              <th scope="col">Producto</th>
              <th scope="col">Precio</th>
              <th scope="col">Cantidad</th>
              <th scope="col">Total</th>
              <th scope="col">Eliminar</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ingreso of ingresos">
              <td>{{ingreso.fecha}}</td>
              <td>{{ingreso.producto}}</td>
              <td>{{ingreso.precio}}</td>
              <td>{{ingreso.cantidad}}</td>
              <td>{{ingreso.total}}</td>
              <td>
                <img class="imgDelete" src="assets/delete.svg" (click)="removerIngreso(ingreso.id)">
              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>



  </div>
</div>